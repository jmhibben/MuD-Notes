<!-- NOTE: This page should eventually contain a frame for displaying md files -->
<!DOCTYPE html>
<html>
  <head>
    <title>Index - MuD Notes</title>
    <link rel="stylesheet" href="css/master.css" charset="utf-8">
    <script>
      var ipc = require('ipc');
      function request()
      {
        var path = window.location.href;
        // strip file:// from path
        path = path.substring(7);
        // document.write(path); // debug
        var fileSplit = path.indexOf("?");
        // document.write(fileSplit); // debug
        var file = '';
        if (fileSplit==-1)
        {
          file = 'test/todo.md';
        }
        else
        {
          file = path.substring(fileSplit+1);
        }
        // document.write(file); // debug
        var pathSplit = path.indexOf("src");
        path = path.substring(0, pathSplit);
        // document.write(path); // debug
        var argInfo = {
          'message':  'load',
          'path':     path,
          'file':     file
        };
        document.write(arg); // debug
        ipc.send('asyncronous-message', argInfo);
      }

      ipc.on('asynchronous-reply', function(arg)
      {
        // document.write(arg['message']); // debug
        if(arg['message']=='load')
        {
        }
      });
    </script>
  </head>
  <body onload="request()">
    <div id="md-viewer">

    </div>
  </body>
</html>
